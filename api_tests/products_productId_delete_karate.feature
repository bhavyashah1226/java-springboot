# ********RoostGPT********

# Test generated by RoostGPT for test products-karate using AI Type Open AI and AI Model gpt-4
# 
# Feature file generated for /products/{productId}_delete for http method type DELETE 
# RoostTestHash=befb82c928
# 
# 

# ********RoostGPT********
Feature: Delete Product API

  Background:
    * url target = karate.env == 'dev' ? 'http://dev.api.com' : 'http://prod.api.com'
    * header Authorization = karate.properties['AUTH_TOKEN']
    * def payload = read('classpath:products_productId_delete_karate.csv')
    * configure skipHeader = true

  Scenario: Delete a product
    * def productId = payload.productId

    # Send request to delete a product
    Given path 'products', productId
    When method delete
    Then status 200

    # Validate the response headers
    And match responseHeaders contains { 'Content-Type': '#string', 'Date': '#string' }

    # Validate the response body
    And match response == { message: 'Product deleted' }

  Scenario: Delete a non-existing product
    * def productId = payload.productId

    # Send request to delete a product
    Given path 'products', productId
    When method delete
    Then status 404

    # Validate the response headers
    And match responseHeaders contains { 'Content-Type': '#string', 'Date': '#string' }

    # Validate the response body
    And match response == { message: 'Not Found' }
